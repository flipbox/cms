{"version":3,"sources":["CraftSupportWidget.js"],"names":["$","Craft","CraftSupportWidget","Garnish","Base","extend","widgetId","envInfo","loading","$widget","$pane","$screens","$currentScreen","$nextScreen","screens","currentScreen","$helpBody","$feedbackBody","init","this","widgets","find","initScreen","SCREEN_HOME","$screen","getScreen","screen","filter","loadScreen","reinit","HomeScreen","SCREEN_HELP","HelpScreen","SCREEN_FEEDBACK","FeedbackScreen","gotoScreen","velocity","css","opacity","display","handleScreenAnimationComplete","position","left","top","width","height","outerHeight","complete","proxy","BaseScreen","widget","afterInit","noop","$options","children","addListener","handleOptionClick","ev","attr","currentTarget","BaseSearchScreen","$body","$formContainer","mode","bodyStartHeight","$searchResultsContainer","$searchResults","$searchForm","$searchParams","$searchSubmit","searchTimeout","showingResults","$supportForm","$supportMessage","$supportAttachment","$supportSubmit","$supportSpinner","$supportErrorList","$supportIframe","sendingSupportTicket","focus","$more","prepForSearch","handleSearchFormSubmit","val","preventDefault","handleBodyTextChange","text","MODE_SEARCH","clearSearchTimeout","setTimeout","html","params","getFormParams","name","hasOwnProperty","type","value","appendTo","removeClass","addClass","handleBodyKeydown","keyCode","ESC_KEY","RETURN_KEY","isCtrlKeyPressed","submit","handleSupportLinkClick","prepForSupport","clearTimeout","search","url","getSearchUrl","ajax","dataType","success","error","hideSearchResults","handleSearchSuccess","response","results","getSearchResults","length","startResultsHeight","max","Math","min","i","append","href","getSearchResultUrl","target","getSearchResultStatus","getSearchResultText","endResultsHeight","handleSupportFormSubmit","animate","remove","swapForms","MODE_SUPPORT","$out","$in","parseSupportResponse","errors","insertAfter","attribute","cp","displayNotice","t","$iframe","query","title","encodeURIComponent","items","result","link","is_answered","body","html_url","state","jQuery"],"mappings":"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","file":"CraftSupportWidget.min.js"}